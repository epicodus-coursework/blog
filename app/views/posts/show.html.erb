<% content_for(:title, "#{@post.title}") %>

<h1><%= @post.title %></h1>

<div class="well">
  <p><%= @post.body %></p>

  <% if current_user != nil %>
    <p><%= link_to "Edit post", edit_post_path(@post) %></p>
    <p><%= link_to "Delete post", post_path(@post),
                              :data => {:method => "delete"} %></p>
  <% end %>
</div>

  <% if @post.comments.any? %>
    <ul class='list-unstyled'>
        <% @post.comments.each do |comment| %>
          <div class="well">
            <li>
              <p><%= comment.body %></p>

              <% if current_user != nil %>
                <p><%= link_to "Edit comment", edit_post_comment_path(@post, comment) %></p>
                <p><%= link_to "Delete comment", post_comment_path(@post, comment),
                                            :data => {:method => "delete"} %></p>
              <% end %>
            </li>
          </div>
        <% end %>
    </ul>
  <% else %>
    <p>No comments yet!</p>
  <% end %>

<% if current_user != nil %>
  <p><%= link_to "Add a comment", new_post_comment_path(@post) %></p>
<% end %>


<p><%= link_to "Return to posts", posts_path %></p>
